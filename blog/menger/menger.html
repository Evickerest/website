<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eMoras</title>
    <link rel="stylesheet" href="menger.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&family=Roboto:wght@300&display=swap" rel="stylesheet">

    <script
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
    type="text/javascript" defer></script>
</head>
<body>
    <header>
        <a href="/"><div class="logo">
            <span>e</span><span>Moras</span>
        </div></a>
        <nav>
            <ul class="nav-list">
                <li><a href="/resume/resume.html">Resume</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="/about/about.html">About</a></li>
            </ul>
        </nav>
    </header>
    <section>
        <div class="title">
            <h1>Menger Sponge</h1>
            <h2>Created 2/12/2024</h2>
            <hr>
        </div>
        <p>
            I always been fascinated with the possibilities of modular origami. This subset of the hobby combines the "softness" of origami with rigid mathematical implications. The modular units I use are called the "Sonobe Module".
        </p>
        <p>
            To construct a sonobe unit, watch this video.
        </p>
        <div class="media-content">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/TKGW2W168H0?si=QtI8peuit1noDCRg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
        <p>
            As we will get to, large projects require hundreds of these units. Most of the time spent will be used folding and creating the units.
        </p>
        <!-- <div class="media-content">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/TKGW2W168H0?si=QtI8peuit1noDCRg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div> -->
        <p>
            Sonobe units have slots in them that allow for the ends of other units to be inserted. This is how the modular design starts. From here, depending on how you put together and fold the underlying unit, many shapes can arise. However, I will be focusing on the Menger Sponge.
        </p>
        <p>
            The menger sponge is a fractal that is constructed from a solid cube, and then popping holes into the center. And then, you subdivide each side of the cube into 8 sections, and then pop holes in the middle in each cube section, and then repeat.
        </p>
        <div class="media-content">
            <img src="/imgs/menger_sponge_diagram.jpg" alt="">
        </div>
        <p>
            Since each iteration can always be subdivided into squares, the menger sponge can always at each level be constructed with sonobe units. This is because the unit ends up as a square at the end.
        </p>

        <p>
            Level 0 of the Fractal (or just a cube), requires only 6 units. The initial size of the origami paper determines the size of the resulting cube. 
        </p>
        <div class="media-content">
            <img src="/imgs/IMG_1610.JPG" alt="">
        </div>
        <p>
            Level 0 of the fractal (or just a cube), requires only 6 units. The initial size of the origami paper determines the size of the resulting cube. If you fold and unfold it, you can easily calculate the side length using the Pythagorean Theorem. 
        </p>
        <div class="media-content">
            <img src="/imgs/unit_diagram.png" alt="hi">
        </div>   
        <p>
            If we have the initial side length <i>x</i> and the unit side length <i>l</i>, then:   
        </p> 
        <div class="math-container">
            <p><span class="math display">\[\begin{split}
                (\frac{x}{4})^2 + (\frac{x}{4})^2 &amp;= l^2 \\
                2(\frac{x}{4})^2 &amp;= l^2 \\
                \frac{x^2}{8} &amp;= l^2 \\
                \frac{x}{\sqrt{8}} = \frac{\sqrt{2}x}{4} &amp;= l
            \end{split}\]</span></p>
        </div>
        <p>
            And so the resulting cube length will be
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><msqrt><mn>2</mn></msqrt></mrow><mn>4</mn></mfrac></math>
            of the original square length. I would say that working with 3" by 3" paper works the best, as it results in a cube length of about 1 inch (1.06"). If you don't have access to size of origami paper, you can use Sticky Notes, as they are commonly this size. If you have access to 1' by 1' paper, you can cut sheets in 16ths and have adequate size.
        </p>
        <p>
            Level 0 of the Menger Sponge can be made in 5 minutes or so. However, moving to level 1 requires a bit more effort. Level 0 requires 6 units (as there are 6 sides of a cube), but how many units are required for this level? If you are familiar with the Rubik's Cube, I will be using Similar terminology to describe. You can think of going up a level as coring the middle of the cube, you can think of creating 20 copies of the original, and glueing them together. (A Rubik's cube as 12 corners and 8 edges; 20 pieces). However, you can just take 6 and multiply it by 20, as you will be doubling up edges where there needs to be no edges.
        </p>
        <p>
            If you look at the fractal image above, you can see there are sides of the structure that if were were glueing together tiny cubes, certain sides would not need to be there. This is how we can calculate the next number of needed units: There are 8 corners and 12 edges. Corners connect to edges in 3 different places, and edges connect to corners in 2. That means, for the 6 sides of a corner, 3 sides are not needed, and for the 6 sides of a edge, 2 sides are not needed. So we can calculate the number like so:
        </p>
        <div class="math-container">
            <p><span class="math display">\[\begin{split}
                n_{\text{max}} &amp;= 20 \cdot 6 \\
                n_{\text{max}} &amp;= 8 \cdot 6 + 12 \cdot 6 \\
                n &amp;= 8 \cdot (6 - 3) + 12 \cdot (6 - 2) \\
                n &amp;= 24 + 48 \\
                n &amp;= 72
            \end{split}\]</span></p>
        </div>
        <p>
            Thus, 72 units are needed to construct a level 1 Menger Sponge.
        </p>
        <div class="media-content">
            <img src="/imgs/IMG_1611.JPG" alt="hi">
        </div>
        <p>
            Here are a couple things I would recommend:
        </p>  
        <ul>
            <li>Don't fold the ends until all 72 are folded. How the edges will be folded is determined by what kind of piece you will need when constructing.</li>
            <li>Start with a corner, build the bottom, and then collectively work your way up.</li>
            <li>The "face" side of all the units should be the only side visible. Using this, you can hold a piece in a position, and know how the edges should be folded to fit into local units.</li>
        </ul>
        <p>
            What about level 2? When I first accomplished level 1, it actually took me 3 months to make. It can me made in 2-4 hours, however, I was just really lazy. I thought that if level 1 took me that long, how long would level 2 take? I didn't dare try until a year and half later in 2022 I attempted the challenge.
        </p>
        <p>
            The units needed for level 2 jump up exponentially. 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mtext mathvariant="normal">max</mtext></msub></math>
            is now 72*20 = 1440. Going at the same pace as my level 1 build, it would take me 5 years just to fold 1440 units (24 units/month). However, 1440 is just the max. What is the actual number needed?
        </p>
        <p>
            If we follow the same process as before, we can arrive at the result. We can break
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mtext mathvariant="normal">max</mtext></msub></math>
            into 8 corners (8 * 72) and 12 edges (12 * 72). Not all of the 72 units for the corners and edges are needed. 3 sides of each corner are hidden. Note that since each corner is level 1, each side contains 8 squares. That means we can subtract 8 * 3 from the 72 for each corner. Similar, we can subtract 8 * 2 from each edge. This results in:
        </p>
        <div class="math-container">
            <p><span class="math display">\[\begin{split}
                n_{\text{max}} &amp;= 20 \cdot 72 \\
                n_{\text{max}} &amp;= 8 \cdot 72 + 12 \cdot 72 \\
                n &amp;= 8 \cdot (72 - 3 \cdot 8) + 12 \cdot (72 - 2 \cdot 8) \\
                n &amp;= 384 + 672 \\
                n &amp;= 1056
            \end{split}\]</span></p>
        </div>
        <p>
            With these two examples, we can generalize this to a sequence,
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>a</mi><mi>n</mi></msub></math>. 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mtext mathvariant="normal">max</mtext></msub></math>
            will always be 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>20</mn><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></math>, 
            where n is the level. We can break this apart into 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>8</mn><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mn>12</mn><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></math>.
            From there, the number of units needed for each corner and cube will need to be reduced. Each corner will need to by subtracted some multiple of 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>8</mn><mi>n</mi></msup></math>. 
            We know this is the case as when we were first discussing how to make a menger sponge, each level's side is subdivided in 8. As such, since 3 sides of a corner is hidden, the amount of units we won't use are 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>3</mn><mo>*</mo><msup><mn>8</mn><mi>n</mi></msup></mrow></math>,
            and the amount of units we won't use for edges are 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>2</mn><mo>*</mo><msup><mn>8</mn><mi>n</mi></msup></mrow></math>,
            since 2 sides of each edge are hidden. And so:
        </p>
        <div class="math-container">
            <p><span class="math display">\[\begin{split}
                a_n &amp;= 8 \cdot ( a_{n-1} - 3 \cdot 8^{n-1} ) + 12 \cdot ( a_{n-1} - 2 \cdot 8^{n-1} ) \\
                a_n &amp;= 8a_{n-1} - 24 \cdot \frac{8^n}{8} + 12a_{n-1} - 24 \cdot \frac{8^n}{8} \\
                a_n &amp;= 20a_{n-1} - 6 \cdot 8^n\\
            \end{split}\]</span></p>
        </div>
        <p>
            We now have a recursive formula for knowing how many units are required per level. It is important to consider why this formula makes sense. If you consider a Rubik's cube, there 6 planes of rotation.
        </p>
        <div class="media-content">
            <img src="/imgs/rubik_isometric_drawn.png" alt="hi">
        </div>
        <p>
            And if I were to take one of these slices out:
        </p>
        <div class="media-content">
            <img src="/imgs/slice.jpg" alt="hi">
        </div>
        <p>
            You can see that the inside of each slice also has 8 "squares", just like the outside. This applies to each level of the menger sponge. The are 6 slices where edge and corner interact, and for example if you were to slice a level 2 at one of these planes, it would look like this:
        </p>
        <div class="media-content">
            <img src="/imgs/menger_front.jpg" alt="hi">
        </div>
        <p>
            Which consists of  
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>8</mn><mi>n</mi></msup></math>
            squares, and as such the original equation of 
            <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msub><mi>a</mi><mi>n</mi></msub><mo>=</mo><mn>20</mn><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mn>6</mn><mo>*</mo><msup><mn>8</mn><mi>n</mi></msup></mrow></math>
            makes sense. And yes, I did build a level 2 menger sponge. I took me around 8 months of work. Here is the timeline:
        </p>
        <div class="media-content">
            <div class="gallery">
                <img src="/imgs/menger_progress/IMG_2073.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_2193.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_2204.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3671.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3676.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3677.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3678.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3726.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3727.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3754.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3755.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3757.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3758.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3796.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3797.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3798.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3799.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3801.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3804.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3805.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3817 (1).JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3883.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3884.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3885.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3886.JPG" alt="">
                <img src="/imgs/menger_progress/IMG_3888.JPG" alt="">
            </div>
        </div>
        <p>
            The first picture was dated March 26, 2021, and the last picture was dated November 23, 2021. This project could have definitely been done in a month, but it would have required 3-4 hours each day. Most of the time spent was folding and creating the units. I started folded on March 26, and got done October 21. 86% of the time was spend folding (209 days / 242 days).
        </p>
        <p>
            The only thing that doesn't sit right for me is that our current equation is recursive. Any good mathematician would try and produce an explicit formula. It can be done, but it requires a bit of algebra. The only thing of note in the algebra is the use of the geometric series formula, and that additive inverses were made to complete the series.
        </p>
        <div class="math-container">
            <p><span class="math display">\[\begin{split}
            a_n &= 20a_{n-1} - 6 \cdot 8^n \\
            &= 20(20a_{n-2} - 6 \cdot 8^{n-1}) - 6 \cdot 8^n \\
            &= 20^2a_{n-2} - 20 \cdot 6 \cdot 8^{n-1} - 6 \cdot 8^n \\
            &= 20^2(a^{n-3}-6\cdot8^{n-2})-20\cdot6\cdot6^{n-1}-6\cdot8^n\\
            &\;\;\vdots \\
            &= 20^{n-1}a_{n-(n-1)}-20^{n-2}\cdot6\cdot8^2-20^{n-3}\cdot6\cdot8^3-\dots-6\cdot8^n \\
            &= 20^{n-1}a_{1}-20^{n-2}\cdot6\cdot8^2-20^{n-3}\cdot6\cdot8^3-\dots-6\cdot8^n \\
            &= \frac{20^n}{20}a_1-\frac{20^n}{20^2}\cdot6\cdot8^2-\frac{20^n}{20^3}\cdot6\cdot8^3-\dots-\frac{20^n}{20^n}6\cdot8^n \\
            &= 6\cdot20^n\left(\frac{12}{20}-\frac{8^2}{20^2}-\frac{8^3}{20^3}-\dots-\frac{8^n} {20^n}\right) \\
            &= 6\cdot20^n\left(\frac{12}{20}+\frac{2}{5}+1-\left(\frac{2}{5}\right)^0-\left(\frac{2}{5}\right)^1-\left(\frac{2}{5}\right)^2-\dots-\left(\frac{2}{5}\right)^n\right) \\
            &= 6\cdot20^n\left(2-\left(\frac{1-(2/5)^{n+1}}{1-2/5}\right)\right) \\
            &= 6\cdot20^n\left(2-\left((1-(2/5)^n(2/5))\cdot\frac{20}{12}\right)\right) \\
            &= 6\cdot20^n\left(2-\left(\frac{5}{3}-\frac{2}{3}\left(\frac{2} {5}\right)^n\right)\right) \\
            &= 20^n\left(2+4\left(\frac{2}{5}\right)^n\right) \\
            &= 2\cdot20^n + 4\cdot8^n
            \end{split}\]</span></p>
        </div>
        <p>WolframAlpha keeps telling me that the formula can be even more simplified, but I don't believe it. Simplify the equation in WolframAlpha and you'll see this is the simplest it can get. </p>
    </section>
</body>
</html>